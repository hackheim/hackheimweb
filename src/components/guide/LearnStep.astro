---
// src/components/guide/LearnStep.astro
const { id, title, tags = [], includeTags = null, excludeTags = null } = Astro.props;

const includePass = includeTags ? tags.some(t => includeTags.includes(t)) : true;
const excludePass = excludeTags ? !tags.some(t => excludeTags.includes(t)) : true;
if (!(includePass && excludePass)) return;
---
<section id={id} class="learn-step rounded-2xl border border-amber-200 bg-amber-50/50 p-6 my-8 relative print:break-inside-avoid print:page-break-inside-avoid">
  <header class="mb-4">
    <h3 class="m-0 text-xl font-semibold text-gray-900 flex items-center gap-3">
      <span class="learn-icon flex-shrink-0 w-9 h-9 flex items-center justify-center text-xl leading-none">
        ðŸ’¡
      </span>
      {title}
    </h3>
  </header>
  <div class="learn-content prose prose-sm max-w-none text-gray-700"><slot /></div>
</section>
